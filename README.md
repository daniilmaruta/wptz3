# wptz3

##Демонстрация
Работу развернуть на любом хостинге. Прислать ссылку на проект, а также логин и пароль в админку.
1. Залить свой код, созданный в рамках текущей работы, на github.com и прислать ссылку. 
2. Не надо заливать движок ВП и тему (если написана не вами).

##Общие требования
* Должна быть валидация всех входящих данных.
* Предпочтительнее писать на чистом **JS** без **jQuery** (если таких знаний нет, пойдет **jQuery**).
* Весь функционал должен быть добавлен через код (не через админку вп).

##Backend
Написать собственный плагин для **Wordpress**. 

Функционал плагина: 
1. Создать **произвольный тип постов** _«Ставки»_ (bets).

2. Для этого типа постов добавить **таксономию** _«Тип ставки»_ со следующими терминами:
    * ординар
    * экспресс

3. Добавить **две произвольные роли**: 
* “Каппер”
    * стандартные права подписчика
    * может добавлять/редактировать свои ставки в типе постов _«Ставки»_.
* “Модератор”
    * может добавлять/редактировать любые ставки в типе постов _«Ставки»_.
    * не является админом


##Frontend

Создать простую тему, в которой будут следующие страницы:

1. Произвольный шаблон страницы (page template), с формой добавления ставки. 

    A. Форма должна быть доступна только авторизованным

    B. Содержать следующие поля:
    * Заголовок (text)
    * Описание (textarea)
    * Тип ставки (select)
    * Кнопка отправить

    C. Отправка должна осуществляться через ajax. 

    D. При отправки формы создается новый пост (bets).

    E. Добавить **произвольный хук WP (фильтры/экшены)** позволяющий менять данные добавляемой ставки. К примеру, путем использования фильтра, обрезать латинские символы из описания ставки перед добавлением.


2. На созданных страницах, назовем их одиночной ставкой (single-bets.php) должно находиться:

    * Описание, тип ставки, статус. 

    * Поле **input**, в которое можно ввести значения от 100 до 1000.  

    * Кнопка «Ставка пройдет!».  

    По клику на нее записываются данные из **input** поля в post meta “bet_vote”.

    Запись должна происходить через ajax. После чего кнопка становится неактивной.